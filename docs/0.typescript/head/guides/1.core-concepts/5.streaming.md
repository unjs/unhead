---
title: Streaming
description: Update head tags dynamically during streaming server-side rendering
navigation.title: Streaming
new: true
---

::warning
This API is experimental and may change in future versions.
::

Streaming sends HTML progressively. With Unhead's streaming support, head tags update as async content resolves.

## Server

```ts
import { createStreamableHead, wrapStream } from 'unhead/stream/server'

const { head } = createStreamableHead()

head.push({
  title: 'My App',
  htmlAttrs: { lang: 'en' }
})

const template = '<!DOCTYPE html><html><head></head><body></body></html>'

// Wrap your app stream with head injection
const fullStream = wrapStream(head, appStream, template)
return new Response(fullStream)
```

## Client

```ts
import { createStreamableHead } from 'unhead/stream/client'

const head = createStreamableHead()
```

The client automatically processes queued entries from streaming.

## API

### createStreamableHead

```ts
import { createStreamableHead } from 'unhead/stream/server'

function createStreamableHead(options?: {
  streamKey?: string
}): {
  head: Unhead
  wrapStream: (stream: ReadableStream, template: string) => ReadableStream
}
```

### wrapStream

```ts
import { wrapStream } from 'unhead/stream/server'

function wrapStream(
  head: Unhead,
  stream: ReadableStream<Uint8Array>,
  template: string
): ReadableStream<Uint8Array>
```

Wraps a stream with shell rendering and template injection.

### renderSSRHeadShell / renderSSRHeadSuspenseChunk

For manual control without `wrapStream`:

```ts
import { renderSSRHeadShell, renderSSRHeadSuspenseChunk } from 'unhead/stream/server'

// Render initial shell
res.write(renderSSRHeadShell(head, template))

// After each async chunk, emit head updates
for await (const chunk of appStream) {
  res.write(chunk)
  const update = renderSSRHeadSuspenseChunk(head)
  if (update) res.write(`<script>${update}</script>`)
}

res.write('</body></html>')
```
