---
title: Upgrade Guide
description: Learn how to migrate between Unhead versions for Angular users.
navigation:
  title: Upgrade Guide
---

## Migrate to v3 (from v2)

Unhead v3 removes all deprecated APIs and focuses on performance improvements.

### Legacy Property Names

ðŸš¦ Impact Level: High

The `DeprecationsPlugin` that automatically converted legacy property names has been removed. You must update your head entries to use the current property names.

**`children` â†’ `innerHTML`**

```diff
useHead({
  script: [{
-   children: 'console.log("hello")',
+   innerHTML: 'console.log("hello")',
  }]
})
```

**`hid` / `vmid` â†’ `key`**

```diff
useHead({
  meta: [{
-   hid: 'description',
+   key: 'description',
    name: 'description',
    content: 'My description'
  }]
})
```

**`body: true` â†’ `tagPosition: 'bodyClose'`**

```diff
useHead({
  script: [{
    src: '/script.js',
-   body: true,
+   tagPosition: 'bodyClose',
  }]
})
```

### Schema.org Plugin

ðŸš¦ Impact Level: High

If you're using `@unhead/schema-org`, the plugin exports have changed:

```diff
- import { SchemaOrgUnheadPlugin } from '@unhead/schema-org'
+ import { UnheadSchemaOrg } from '@unhead/schema-org'

const head = createHead({
  plugins: [
-   SchemaOrgUnheadPlugin()
+   UnheadSchemaOrg()
  ]
})
```

### Core API Changes

ðŸš¦ Impact Level: Medium

**`headEntries()` â†’ `entries` Map**

```diff
- const entries = head.headEntries()
+ const entries = [...head.entries.values()]
```

**`mode` Option Removed**

The `mode` option on head entries has been removed. Use platform detection instead:

```ts
import { isPlatformBrowser } from '@angular/common'

if (isPlatformBrowser(this.platformId)) {
  this.head.push({ title: 'Client Only' })
}
```

### Hooks

ðŸš¦ Impact Level: Low

The following hooks have been removed:
- `init` - No longer needed
- `dom:renderTag` - DOM rendering is now synchronous
- `dom:rendered` - Use code after `renderDOMHead()` instead

The `dom:beforeRender` hook is now synchronous and `renderDOMHead` no longer returns a Promise:

```diff
- await renderDOMHead(head, { document })
+ renderDOMHead(head, { document })
```
